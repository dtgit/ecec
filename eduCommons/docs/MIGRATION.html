<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Migrating to eduCommons 3.1.1-final</title>
<link rel="stylesheet" href="./default.css" type="text/css" />
</head>
<body>
<div class="document" id="migrating-to-educommons-3-1-1-final">
<h1 class="title">Migrating to eduCommons 3.1.1-final</h1>

<div class="section" id="preparation">
<h1>Preparation</h1>
<p>A few things you should do before beginning the migration:</p>
<blockquote>
<ol class="arabic simple">
<li>VERY IMPORTANT: SAVE A BACKUP OF YOUR Data.fs FILE, which is located in the [old instance home]/var directory of your eduCommons site. This file contains all of the content for your site. (This way you will able to restore your file from this Data.fs file if anything goes wrong.)</li>
<li>Using the Zope Management Interface (ZMI), export any customizations you have made in your [old site] --&gt; portal_skins --&gt; custom folder and then delete all files in the custom folder. You can re-import these customizations once you have migrated the site.</li>
<li>Verify that your current instance is eduCommons-3.0.2-final.</li>
</ol>
</blockquote>
</div>
<div class="section" id="migration-of-educommons-3-0-2-final-to-3-1-1-final">
<h1>Migration of eduCommons 3.0.2-final to 3.1.1-final</h1>
<p>The migration eduCommons from version 3.0.2-final to version 3.1.1-final
includes the following:</p>
<blockquote>
<ol class="arabic simple">
<li>Movement of Data.fs file to a new 3.1.1-final instance</li>
<li>Migration to Plone 3.0.6</li>
<li>Migration to the eduCommons 3.1.1-final instance</li>
<li>Final steps</li>
</ol>
</blockquote>
</div>
<div class="section" id="movement-of-data-fs-file-to-a-new-3-1-1-final-instance">
<h1>Movement of Data.fs file to a new 3.1.1-final instance</h1>
<p>For the first step, you will move the Data.fs file from the old instance to
the new instance. First of all, install an eduCommons-3.1.1-final
instance using the installations instructions found in [new instance home]/eduCommons/docs/. Stop both sites. Then
copy the Data.fs file from the var directory of the old site to the
var directory of the new site:</p>
<pre class="literal-block">
sudo cp -rvfp [old instance home]/var/Data.fs [new instance home]/var/
</pre>
</div>
<div class="section" id="migration-of-plone">
<h1>Migration of Plone</h1>
<p>The following steps need to be performed in the ZMI, as eduCommons-3.1.1-final utlizes Plone 3.0.6, instead of 3.0.4:</p>
<blockquote>
<ol class="arabic simple">
<li>Open your 3.1.1-final eduCommons site in the ZMI. (click educommons setup, then click Zope Management Interface.)</li>
<li>Run portal_migration migration (click the upgrade button on the migrate tab)</li>
</ol>
</blockquote>
</div>
<div class="section" id="installation-of-filesystemstorage-product">
<h1>Installation of FileSystemStorage Product</h1>
<p>At this point in time, we need to ensure that the FileSystemStorage AddOn Product is installed:</p>
<blockquote>
<ol class="arabic simple">
<li>Open your 3.1.1-final eduCommons site in the ZMI. (click educommons setup, then click Zope Management Interface.)</li>
<li>Navigate to portal_quickinstaller</li>
<li>Select FileSystemStorage</li>
<li>Press Install</li>
</ol>
</blockquote>
</div>
<div class="section" id="migration-of-the-educommons-3-1-1-final-instance">
<h1>Migration of the eduCommons 3.1.1-final instance</h1>
<p>eduCommons 3.1.1-final uses the portal_setup tool to perform the necessary upgrade from 3.0.2 to 3.1.1-final:</p>
<blockquote>
<ol class="arabic simple">
<li>Open your 3.1.1-final eduCommons site in the ZMI. (click educommons Setup, then click Zope Management Interface.)</li>
<li>Navigate to portal_setup</li>
<li>Press the 'Upgrades' tab</li>
<li>From the drop down menu, select 'Products.eduCommons:default' and click Choose Profile button.</li>
<li>Choose the 'Migration :: 3.0.2 to 3.1.0' option</li>
<li>Press Upgrade</li>
</ol>
</blockquote>
</div>
<div class="section" id="final-steps">
<h1>Final Steps</h1>
<blockquote>
Your site should now be migrated. Navigate to your site in the browser and ensure it has migrated.</blockquote>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="MIGRATION.txt">View document source</a>.
Generated on: 2008-04-09 18:43 UTC.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>
